"""
ุงุณฺฉุฑูพุช ฺฉุงูู ุจุฑุง ุชููุฏ ูุณุงุฆู ุจุงููุงูุฏู ูพูุดู E_oop
"""

import os

# ุชุนุฑู ุงูฺฏููุง ูุณุงุฆู
problems_data = {
    # Polymorphism (E0063-E0070)
    "E0063": ("ูพูโููุฑูุณู ุจุง ูพุฑุฏุงุฎุช", "ูุชูุณุท", "ฺฉูุงุณโูุง ูุฎุชูู ูพุฑุฏุงุฎุช (ููุฏุ ฺฉุงุฑุชุ ุขููุงู)"),
    "E0064": ("ูพูโููุฑูุณู ุจุง ฺฉุงุฑููุฏุงู", "ูุชูุณุท", "ูุญุงุณุจู ุญููู ุจุฑุง ุงููุงุน ฺฉุงุฑููุฏุงู"),
    "E0065": ("ูพูโููุฑูุณู ุจุง ูุณุงู ูููู", "ูุชูุณุท", "ูุญุงุณุจู ูุฒูู ุณูุฑ ุจุฑุง ูุณุงู ูุฎุชูู"),
    "E0066": ("ูพูโููุฑูุณู ุจุง ูุงูโูุง", "ูุชูุณุท", "ุฎูุงูุฏู ูุงูโูุง ูุฎุชูู (ูุชูุ JSONุ CSV)"),
    "E0067": ("ูพูโููุฑูุณู ุจุง ููุชูฺฉุดู", "ูุชูุณุท", "ุงุฑุณุงู ูพุงู ุงุฒ ุทุฑูโูุง ูุฎุชูู"),
    "E0068": ("ูพูโููุฑูุณู ุจุง ูุญุตููุงุช", "ูุชูุณุท", "ูุญุงุณุจู ุชุฎูู ุจุฑุง ูุญุตููุงุช ูุฎุชูู"),
    "E0069": ("ูพูโููุฑูุณู ุจุง ุจุงุฒโูุง", "ูุชูุณุท", "ุงุฌุฑุง ุจุงุฒโูุง ูุฎุชูู"),
    "E0070": ("ูพูโููุฑูุณู ูพุดุฑูุชู", "ูุชูุณุท", "ุชุฑฺฉุจ ฺูุฏ ููุน ูพูโููุฑูุณู"),
    
    # Encapsulation (E0071-E0080)
    "E0071": ("ฺฉูพุณูููโุณุงุฒ ุณุงุฏู", "ูุชูุณุท", "ฺฉูุงุณ ุจุง ูุชุบุฑูุง ุฎุตูุต"),
    "E0072": ("ฺฉูพุณูููโุณุงุฒ ุญุณุงุจ ุจุงูฺฉ", "ูุชูุณุท", "ูุญุงูุธุช ุงุฒ ููุฌูุฏ ุญุณุงุจ"),
    "E0073": ("ฺฉูพุณูููโุณุงุฒ ุฑูุฒ ุนุจูุฑ", "ูุชูุณุท", "ุฐุฎุฑู ุงูู ุฑูุฒ ุนุจูุฑ"),
    "E0074": ("ฺฉูพุณูููโุณุงุฒ ุฏุงุฏูโูุง ุญุณุงุณ", "ูุชูุณุท", "ูุญุงูุธุช ุงุฒ ุงุทูุงุนุงุช ุดุฎุต"),
    "E0075": ("ฺฉูพุณูููโุณุงุฒ ุจุง Validation", "ูุชูุณุท", "ุงุนุชุจุงุฑุณูุฌ ุฏุงุฏูโูุง"),
    "E0076": ("ฺฉูพุณูููโุณุงุฒ ูพุดุฑูุชู", "ูุชูุณุท", "ุชุฑฺฉุจ getter/setter ู property"),
    "E0077": ("ฺฉูพุณูููโุณุงุฒ ุจุง ูุงฺฏ", "ูุชูุณุท", "ุซุจุช ุชุบุฑุงุช ุฏุงุฏูโูุง"),
    "E0078": ("ฺฉูพุณูููโุณุงุฒ ฺูุฏุณุทุญ", "ูุชูุณุท", "ฺฉูพุณูููโุณุงุฒ ุฏุฑ ฺูุฏ ุณุทุญ"),
    "E0079": ("ฺฉูพุณูููโุณุงุฒ ุจุง ฺฉุด", "ูุชูุณุท", "ุฐุฎุฑูโุณุงุฒ ูููุช ุฏุงุฏูโูุง"),
    "E0080": ("ฺฉูพุณูููโุณุงุฒ ฺฉุงูู", "ูุชูุณุท", "ูพุฑูฺู ฺฉุงูู ุจุง ฺฉูพุณูููโุณุงุฒ"),
    
    # Method Overriding (E0081-E0085)
    "E0081": ("ุจุงุฒููุณ ูุชุฏ ุณุงุฏู", "ูุชูุณุท", "ุจุงุฒููุณ ูุชุฏ display"),
    "E0082": ("ุจุงุฒููุณ ุจุง super", "ูุชูุณุท", "ุงุณุชูุงุฏู ุงุฒ super ุฏุฑ ุจุงุฒููุณ"),
    "E0083": ("ุจุงุฒููุณ ฺูุฏฺฏุงูู", "ูุชูุณุท", "ุจุงุฒููุณ ฺูุฏ ูุชุฏ"),
    "E0084": ("ุจุงุฒููุณ ุจุง ูพุงุฑุงูุชุฑ", "ูุชูุณุท", "ุจุงุฒููุณ ูุชุฏ ุจุง ูพุงุฑุงูุชุฑูุง ูุฎุชูู"),
    "E0085": ("ุจุงุฒููุณ ูพุดุฑูุชู", "ูุชูุณุท", "ุชุฑฺฉุจ ุจุงุฒููุณ ู ูพูโููุฑูุณู"),
    
    # super() (E0086-E0090)
    "E0086": ("ุงุณุชูุงุฏู ุงุฒ super", "ูุชูุณุท", "ูุฑุงุฎูุงู constructor ูพุฏุฑ"),
    "E0087": ("super ุจุง ฺูุฏ ุณุทุญ", "ูุชูุณุท", "ูุฑุงุซุช ฺูุฏุณุทุญ ุจุง super"),
    "E0088": ("super ุฏุฑ ูุชุฏูุง", "ูุชูุณุท", "ุงุณุชูุงุฏู ุงุฒ super ุฏุฑ ูุชุฏูุง"),
    "E0089": ("super ูพุดุฑูุชู", "ูุชูุณุท", "ฺฉุงุฑุจุฑุฏูุง ูพุดุฑูุชู super"),
    "E0090": ("super ู MRO", "ูุชูุณุท", "ุชุฑุชุจ ุฌุณุชุฌู ูุชุฏ"),
    
    # Multiple Inheritance (E0091-E0095)
    "E0091": ("ูุฑุงุซุช ฺูุฏฺฏุงูู ุณุงุฏู", "ูุชูุณุท", "ุงุฑุซโุจุฑ ุงุฒ ุฏู ฺฉูุงุณ"),
    "E0092": ("ูุฑุงุซุช ฺูุฏฺฏุงูู ุจุง ุชุฏุงุฎู", "ูุชูุณุท", "ุญู ุชุฏุงุฎู ูุชุฏูุง"),
    "E0093": ("ูุฑุงุซุช ฺูุฏฺฏุงูู ูพุดุฑูุชู", "ูุชูุณุท", "ุชุฑฺฉุจ ฺูุฏ ูฺฺฏ"),
    "E0094": ("Diamond Problem", "ูุชูุณุท", "ุญู ูุดฺฉู ุงููุงุณ"),
    "E0095": ("Mixin Classes", "ูุชูุณุท", "ุงุณุชูุงุฏู ุงุฒ ฺฉูุงุณโูุง Mixin"),
    
    # MRO (E0096-E0100)
    "E0096": ("MRO ุณุงุฏู", "ูุชูุณุท", "ุชุฑุชุจ ุฌุณุชุฌู ูุชุฏ"),
    "E0097": ("MRO ุจุง ูุฑุงุซุช ฺูุฏฺฏุงูู", "ูุชูุณุท", "MRO ุฏุฑ ูุฑุงุซุช ฺูุฏฺฏุงูู"),
    "E0098": ("ุจุฑุฑุณ MRO", "ูุชูุณุท", "ููุงุด MRO ุจุง __mro__"),
    "E0099": ("MRO ูพฺุฏู", "ูุชูุณุท", "MRO ุฏุฑ ุณุงุฎุชุงุฑ ูพฺุฏู"),
    "E0100": ("MRO ู super", "ูุชูุณุท", "ุฑุงุจุทู MRO ู super"),
}

# ุงุฏุงูู ุจุฑุง ูุณุงุฆู ุณุฎุช (E0101-E0150)
hard_problems = {
    # Abstract Classes (E0101-E0110)
    "E0101": ("ฺฉูุงุณ ุงูุชุฒุงุน ุณุงุฏู", "ุณุฎุช", "ุชุนุฑู ฺฉูุงุณ ุงูุชุฒุงุน ุจุง ABC"),
    "E0102": ("ูุชุฏ ุงูุชุฒุงุน", "ุณุฎุช", "ุงุณุชูุงุฏู ุงุฒ abstractmethod"),
    "E0103": ("ฺฉูุงุณ ุงูุชุฒุงุน ุจุง ูพุงุฏูโุณุงุฒ", "ุณุฎุช", "ุชุฑฺฉุจ ูุชุฏูุง ุงูุชุฒุงุน ู ุนุงุฏ"),
    "E0104": ("ูุฑุงุซุช ุงุฒ ฺฉูุงุณ ุงูุชุฒุงุน", "ุณุฎุช", "ูพุงุฏูโุณุงุฒ ฺฉูุงุณโูุง ูุฑุฒูุฏ"),
    "E0105": ("Property ุงูุชุฒุงุน", "ุณุฎุช", "ุงุณุชูุงุฏู ุงุฒ abstractproperty"),
    "E0106": ("ฺฉูุงุณ ุงูุชุฒุงุน ฺูุฏุณุทุญ", "ุณุฎุช", "ูุฑุงุซุช ฺูุฏุณุทุญ ุงูุชุฒุงุน"),
    "E0107": ("ฺฉูุงุณ ุงูุชุฒุงุน ุจุง Validation", "ุณุฎุช", "ุงุนุชุจุงุฑุณูุฌ ุฏุฑ ฺฉูุงุณ ุงูุชุฒุงุน"),
    "E0108": ("Interface ุดุจูโุณุงุฒ", "ุณุฎุช", "ุดุจูโุณุงุฒ Interface ุจุง ABC"),
    "E0109": ("ฺฉูุงุณ ุงูุชุฒุงุน ูพุดุฑูุชู", "ุณุฎุช", "ุชุฑฺฉุจ ููุงูู ุงูุชุฒุงุน"),
    "E0110": ("ูพุฑูฺู ุจุง ฺฉูุงุณ ุงูุชุฒุงุน", "ุณุฎุช", "ูพุฑูฺู ฺฉุงูู ุจุง ABC"),
    
    # Interface (E0111-E0120)
    "E0111": ("Interface ุณุงุฏู", "ุณุฎุช", "ุชุนุฑู Interface"),
    "E0112": ("ูพุงุฏูโุณุงุฒ Interface", "ุณุฎุช", "ฺฉูุงุณโูุง ูพุงุฏูโฺฉููุฏู Interface"),
    "E0113": ("ฺูุฏ Interface", "ุณุฎุช", "ูพุงุฏูโุณุงุฒ ฺูุฏ Interface"),
    "E0114": ("Interface ู Abstract", "ุณุฎุช", "ุชุฑฺฉุจ Interface ู Abstract"),
    "E0115": ("Interface ุจุฑุง Plugin", "ุณุฎุช", "ุณุณุชู Plugin ุจุง Interface"),
    "E0116": ("Interface ุจุฑุง Database", "ุณุฎุช", "ูุงู ุงูุชุฒุงุน ุฏุชุงุจุณ"),
    "E0117": ("Interface ุจุฑุง API", "ุณุฎุช", "ุทุฑุงุญ API ุจุง Interface"),
    "E0118": ("Interface ูพุดุฑูุชู", "ุณุฎุช", "ููุงูู ูพุดุฑูุชู Interface"),
    "E0119": ("Dependency Injection", "ุณุฎุช", "ุชุฒุฑู ูุงุจุณุชฺฏ ุจุง Interface"),
    "E0120": ("ูพุฑูฺู ุจุง Interface", "ุณุฎุช", "ูพุฑูฺู ฺฉุงูู ุจุง Interface"),
    
    # Magic Methods (E0121-E0130)
    "E0121": ("__init__ ู __del__", "ุณุฎุช", "Constructor ู Destructor"),
    "E0122": ("__str__ ู __repr__", "ุณุฎุช", "ููุงุด ุดุก"),
    "E0123": ("__len__ ู __getitem__", "ุณุฎุช", "ุฑูุชุงุฑ ุดุจู ูุณุช"),
    "E0124": ("__add__ ู __sub__", "ุณุฎุช", "ุนููฺฏุฑูุง ุฑุงุถ"),
    "E0125": ("__eq__ ู __lt__", "ุณุฎุช", "ููุงุณู ุงุดุงุก"),
    "E0126": ("__call__", "ุณุฎุช", "ุดุก ูุงุจู ูุฑุงุฎูุงู"),
    "E0127": ("__enter__ ู __exit__", "ุณุฎุช", "Context Manager"),
    "E0128": ("__iter__ ู __next__", "ุณุฎุช", "Iterator"),
    "E0129": ("__getattr__ ู __setattr__", "ุณุฎุช", "ุฏุณุชุฑุณ ุจู Attribute"),
    "E0130": ("Magic Methods ูพุดุฑูุชู", "ุณุฎุช", "ุชุฑฺฉุจ Magic Methods"),
    
    # Operator Overloading (E0131-E0135)
    "E0131": ("Overload ุฌูุน ู ุชูุฑู", "ุณุฎุช", "ุจุงุฒุชุนุฑู + ู -"),
    "E0132": ("Overload ุถุฑุจ ู ุชูุณู", "ุณุฎุช", "ุจุงุฒุชุนุฑู * ู /"),
    "E0133": ("Overload ููุงุณู", "ุณุฎุช", "ุจุงุฒุชุนุฑู ==, <, >"),
    "E0134": ("Overload ูพุดุฑูุชู", "ุณุฎุช", "ุจุงุฒุชุนุฑู ุนููฺฏุฑูุง ูพฺุฏู"),
    "E0135": ("ูพุฑูฺู ุจุง Overloading", "ุณุฎุช", "ูพุฑูฺู ฺฉุงูู ุจุง Overloading"),
    
    # Metaclasses (E0136-E0140)
    "E0136": ("Metaclass ุณุงุฏู", "ุณุฎุช", "ุชุนุฑู Metaclass"),
    "E0137": ("Metaclass ุจุง __new__", "ุณุฎุช", "ุงุณุชูุงุฏู ุงุฒ __new__"),
    "E0138": ("Metaclass ุจุฑุง Validation", "ุณุฎุช", "ุงุนุชุจุงุฑุณูุฌ ุจุง Metaclass"),
    "E0139": ("Metaclass ุจุฑุง Singleton", "ุณุฎุช", "ูพุงุฏูโุณุงุฒ Singleton"),
    "E0140": ("Metaclass ูพุดุฑูุชู", "ุณุฎุช", "ฺฉุงุฑุจุฑุฏูุง ูพุดุฑูุชู"),
    
    # Design Patterns (E0141-E0145)
    "E0141": ("Singleton Pattern", "ุณุฎุช", "ุงูฺฏู Singleton"),
    "E0142": ("Factory Pattern", "ุณุฎุช", "ุงูฺฏู Factory"),
    "E0143": ("Observer Pattern", "ุณุฎุช", "ุงูฺฏู Observer"),
    "E0144": ("Strategy Pattern", "ุณุฎุช", "ุงูฺฏู Strategy"),
    "E0145": ("Decorator Pattern", "ุณุฎุช", "ุงูฺฏู Decorator"),
    
    # Dataclasses ู ูพุฑูฺูโูุง (E0146-E0150)
    "E0146": ("Dataclass ุณุงุฏู", "ุณุฎุช", "ุงุณุชูุงุฏู ุงุฒ @dataclass"),
    "E0147": ("Dataclass ูพุดุฑูุชู", "ุณุฎุช", "ูฺฺฏโูุง ูพุดุฑูุชู dataclass"),
    "E0148": ("ูพุฑูฺู ูุฏุฑุช ุฏุงูุดุฌู", "ุณุฎุช", "ุณุณุชู ฺฉุงูู ูุฏุฑุช"),
    "E0149": ("ูพุฑูฺู ูุฑูุดฺฏุงู", "ุณุฎุช", "ุณุณุชู ูุฑูุดฺฏุงู ุขููุงู"),
    "E0150": ("ูพุฑูฺู ฺฉุชุงุจุฎุงูู", "ุณุฎุช", "ุณุณุชู ูุฏุฑุช ฺฉุชุงุจุฎุงูู"),
}

# ุชุฑฺฉุจ ููู ูุณุงุฆู
all_problems = {**problems_data, **hard_problems}

def create_problem_files(code, title, level, description):
    """ุงุฌุงุฏ ูุงูโูุง ุณูุงู ู ุฌูุงุจ ุจุฑุง ฺฉ ูุณุฆูู"""
    folder = f"E_oop/{code}"
    
    # ุจุฑุฑุณ ูุฌูุฏ ูพูุดู
    if not os.path.exists(folder):
        print(f"โ๏ธ  ูพูุดู {code} ูุฌูุฏ ูุฏุงุฑุฏ")
        return False
    
    # ุจุฑุฑุณ ูุฌูุฏ ูุงูโูุง
    question_file = f"{folder}/{code}_question.md"
    solution_file = f"{folder}/{code}_solution.py"
    
    if os.path.exists(question_file) and os.path.exists(solution_file):
        print(f"โ {code} ูุจูุงู ุงุฌุงุฏ ุดุฏู")
        return True
    
    # ุงุฌุงุฏ ูุงู ุณูุงู
    question_content = f"""# ุณูุงู {code} - {title}

## ุณุทุญ: {level}

## ุตูุฑุช ูุณุฆูู
{description}

## ูุฑูุฏ
[ุชูุถุญุงุช ูุฑูุฏ]

## ุฎุฑูุฌ
[ุชูุถุญุงุช ุฎุฑูุฌ]

## ูุซุงู
```
ูุฑูุฏ:
[ูุซุงู ูุฑูุฏ]

ุฎุฑูุฌ:
[ูุซุงู ุฎุฑูุฌ]
```

## ุฑุงูููุง
- ุงุฒ ููุงูู OOP ุงุณุชูุงุฏู ฺฉูุฏ
- ฺฉุฏ ุชูุฒ ู ุฎูุงูุง ุจููุณุฏ
"""
    
    # ุงุฌุงุฏ ูุงู ุฑุงูโุญู
    solution_content = f"""# {title}
# ุณุทุญ: {level}

# TODO: ูพุงุฏูโุณุงุฒ ุฑุงูโุญู

# ุฏุฑุงูุช ูุฑูุฏ
# ...

# ูพุฑุฏุงุฒุด
# ...

# ููุงุด ุฎุฑูุฌ
# ...
"""
    
    try:
        with open(question_file, 'w', encoding='utf-8') as f:
            f.write(question_content)
        
        with open(solution_file, 'w', encoding='utf-8') as f:
            f.write(solution_content)
        
        print(f"โ {code} ุงุฌุงุฏ ุดุฏ")
        return True
    except Exception as e:
        print(f"โ ุฎุทุง ุฏุฑ ุงุฌุงุฏ {code}: {e}")
        return False

# ุงุฌุฑุง ุงุณฺฉุฑูพุช
if __name__ == "__main__":
    print("๐ ุดุฑูุน ุชููุฏ ูุณุงุฆู ูพูุดู E_oop\n")
    
    created = 0
    skipped = 0
    errors = 0
    
    for code, (title, level, description) in all_problems.items():
        result = create_problem_files(code, title, level, description)
        if result:
            if "ูุจูุงู" in str(result):
                skipped += 1
            else:
                created += 1
        else:
            errors += 1
    
    print(f"\n๐ ุฎูุงุตู:")
    print(f"   โ ุงุฌุงุฏ ุดุฏู: {created}")
    print(f"   โ ุงุฒ ูุจู ููุฌูุฏ: {skipped}")
    print(f"   โ ุฎุทุง: {errors}")
    print(f"\nโจ ฺฉุงุฑ ุชูุงู ุดุฏ!")
